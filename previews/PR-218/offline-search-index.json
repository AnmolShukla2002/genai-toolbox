[{"body":"Placeholder for top-level directory.\n","categories":"","description":"All of Toolbox's documentation. \n","excerpt":"All of Toolbox's documentation. \n","ref":"/previews/PR-218/","tags":"","title":"Documentation"},{"body":"","categories":"","description":"How to get started with Toolbox\n","excerpt":"How to get started with Toolbox\n","ref":"/previews/PR-218/getting-started/","tags":"","title":"Getting Started"},{"body":"Introduction This is a placeholder for the introduction.\n","categories":"","description":"An introduction to Toolbox","excerpt":"An introduction to Toolbox","ref":"/previews/PR-218/getting-started/introduction/","tags":"","title":"Introduction"},{"body":"Step 1: Set up a database Install postgres and configure a database for your system.\nThis process creates a database postgres with superuser postgres.\nStep 2: Import data into the database Connect to postgres using command line.\npsql -U postgres Here, postgres denotes the default postgres superuser.\nCreate a new database and a new user.\nCREATE USER test_user WITH PASSWORD '{password}'; CREATE DATABASE test_db; GRANT ALL PRIVILEGES ON DATABASE test_db to test_user; ALTER DATABASE test_db OWNER TO test_user; Connect to your database with your new user.\npsql -U test_user -d test_db Create a table using the following command.\nCREATE TABLE hotels( id INTEGER NOT NULL PRIMARY KEY, name VARCHAR NOT NULL, location VARCHAR NOT NULL, price_tier VARCHAR NOT NULL, checkin_date DATE NOT NULL, checkout_date DATE NOT NULL, booked BIT NOT NULL ); Insert data into the table.\nINSERT INTO hotels(id, name, location, price_tier, checkin_date, checkout_date, booked) VALUES (1, 'Hilton Basel', 'Basel', 'Luxury', '2024-04-22', '2024-04-20', B'0'), (2, 'Marriott Zurich', 'Zurich', 'Upscale', '2024-04-14', '2024-04-21', B'0'), (3, 'Hyatt Regency Basel', 'Basel', 'Upper Upscale', '2024-04-02', '2024-04-20', B'0'), (4, 'Radisson Blu Lucerne', 'Lucerne', 'Midscale', '2024-04-24', '2024-04-05', B'0'), (5, 'Best Western Bern', 'Bern', 'Upper Midscale', '2024-04-23', '2024-04-01', B'0'), (6, 'InterContinental Geneva', 'Geneva', 'Luxury', '2024-04-23', '2024-04-28', B'0'), (7, 'Sheraton Zurich', 'Zurich', 'Upper Upscale', '2024-04-27', '2024-04-02', B'0'), (8, 'Holiday Inn Basel', 'Basel', 'Upper Midscale', '2024-04-24', '2024-04-09', B'0'), (9, 'Courtyard Zurich', 'Zurich', 'Upscale', '2024-04-03', '2024-04-13', B'0'), (10, 'Comfort Inn Bern', 'Bern', 'Midscale', '2024-04-04', '2024-04-16', B'0'); Step 3: Create a tools config file Create a tools.yaml file with the following content, updating the password field:\nsources: my-pg-source: kind: postgres host: 127.0.0.1 port: 5432 database: test_db user: test_user password: {password} tools: search-hotels: kind: postgres-sql source: my-pg-source description: Search for hotels based on location and name. Returns a list of hotel dictionaries matching the search criteria. parameters: - name: location type: string description: The location of the hotel. - name: name type: string description: The name of the hotel. statement: SELECT * FROM hotels WHERE location ILIKE '%' || $1 || '%' AND name ILIKE '%' || $2 || '%'; book-hotel: kind: postgres-sql source: my-pg-source description: Book a hotel by its ID. Returns a message indicating whether the hotel was successfully booked or not. parameters: - name: hotel_id type: string description: The ID of the hotel to book. statement: UPDATE hotels SET booked = B'1' WHERE id = $1; update-hotel: kind: postgres-sql source: my-pg-source description: Update a hotel's check-in and check-out dates by its ID. Returns a message indicating whether the hotel was successfully updated or not. parameters: - name: hotel_id type: string description: The ID of the hotel to update. - name: checkin_date type: string description: The new check-in date of the hotel. - name: checkout_date type: string description: The new check-out date of the hotel. statement: UPDATE hotels SET checkin_date = CAST($2 as date), checkout_date = CAST($3 as date) WHERE id = $1; cancel-hotel: kind: postgres-sql source: my-pg-source description: Cancel a hotel by its ID. parameters: - name: hotel_id type: string description: The ID of the hotel to cancel. statement: UPDATE hotels SET booked = B'0' WHERE id = $1; The config file defines four tools: search-hotels, book-hotel, update-hotel and cancel-hotel.\nEach tool specifies its description, kind, source, required parameters and the corresponding SQL statements to execute upon tool invocation.\nStep 4: Start a toolbox server locally Download the latest toolbox binary.\ncurl -O https://storage.googleapis.com/genai-toolbox/v0.0.5/linux/amd64/toolbox NOTE: Use the correct binary corresponding to your OS and CPU architecture.\nProvide binary execution permissions.\nchmod +x toolbox Run the Toolbox server.\n./toolbox --tools_file \"tools.yaml\" Step 5: Start building using Toolbox Install the toolbox_langchain_sdk package.\npip install toolbox_langchain_sdk NOTE: Right now, the toolbox_langchain_sdk package is not available on pip. To use the sdk, download the source code from git and install it locally using the command:\npip install . Install other required modules.\npip install langgraph langchain-google-vertexai Create a python script to connect to the toolbox SDK.\nimport asyncio from toolbox_langchain_sdk import ToolboxClient async def main(): client = ToolboxClient(\"http://127.0.0.1:5000\") # All our code will be added here pass asyncio.run(main()) Try out the search-hotels tool.\nsearch_tool = await client.load_tool('search-hotels') response = await search_tool.ainvoke({\"location\": \"Zurich\", \"name\": \"\"}) print(response) Load all tools.\ntools = await client.load_toolset() Create a LangGraph ReAct agent.\nfrom langgraph.prebuilt import create_react_agent from langchain_google_vertexai import ChatVertexAI from langgraph.checkpoint.memory import MemorySaver model = ChatVertexAI(model_name=\"gemini-pro\", project=\"my-project\") # Change the GCP project here agent = create_react_agent(model, tools, checkpointer=MemorySaver()) Define the initial prompt and user queries.\nprompt = \"\"\" You're a helpful hotel assistant. You handle hotel searching, booking and cancellations. When the user searches for a hotel, mention it's name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. \"\"\" queries = [ \"Find hotels in Basel with Basel in it's name.\", \"Can you book the Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", ] Run the queries and observe the output!\nconfig = {\"configurable\": {\"thread_id\": \"thread-1\"}} for query in queries: inputs = {\"messages\": [(\"user\", prompt + query)]} response = await agent.ainvoke(inputs, stream_mode=\"values\", config=config) print(response[\"messages\"][-1].content) To verify the agent’s actions, you can examine the hotels table. You should observe that the booked column for the Hyatt Regency Basel has changed from 0 to 1, indicating that the hotel has been successfully booked. Additionally, the checkin_date and checkout_date have been updated to 2024-04-10 and 2024-04-19 from 2024-04-02 and 2024-04-20 respectively.\n","categories":"","description":"This guide would help you set up a basic agentic application using toolbox.","excerpt":"This guide would help you set up a basic agentic application using …","ref":"/previews/PR-218/getting-started/quickstart/","tags":"","title":"Local Quickstart"},{"body":"","categories":"","description":"An overview of Toolbox's architecture","excerpt":"An overview of Toolbox's architecture","ref":"/previews/PR-218/concepts/overview/","tags":"","title":"Architecture"},{"body":"","categories":"","description":"Some core concepts in Toolbox","excerpt":"Some core concepts in Toolbox","ref":"/previews/PR-218/concepts/","tags":"","title":"Concepts"},{"body":"","categories":"","description":"How to participate in Toolbox Development","excerpt":"How to participate in Toolbox Development","ref":"/previews/PR-218/development/contributing/","tags":"","title":"Contributing"},{"body":"","categories":"","description":"List of reference documentation for resources in Toolbox","excerpt":"List of reference documentation for resources in Toolbox","ref":"/previews/PR-218/resources/","tags":"","title":"Resources"},{"body":"","categories":"","description":"A list of resources related to development of Toolbox","excerpt":"A list of resources related to development of Toolbox","ref":"/previews/PR-218/development/","tags":"","title":"Development"},{"body":"","categories":"","description":"","excerpt":"","ref":"/previews/PR-218/categories/","tags":"","title":"Categories"},{"body":"","categories":"","description":"","excerpt":"","ref":"/previews/PR-218/tags/","tags":"","title":"Tags"}]